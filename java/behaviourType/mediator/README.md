### 中介者模式

### 组成元素

中介者模式：用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。
中介者模式又称为调停者模式，它是一种对象行为型模式。

**Key Point**：中介着模式相当于发布订阅模式的无中间件版本，mediator充当本地的中间件。
单一用户生产消息，发送到mediator，然后由mediator向各个订阅用户（监听用户，所有共享空间的用户）发送消息。

| 元素                | 名称    | 类型                    |
|-------------------|-------|-----------------------|
| Mediator          | 抽象中介者 | interface 只提供方法       |
| ConcreteMediator  | 具体中介者 | class  一个实例 创建一个公共的空间 |
| Colleague         | 抽象同事类 | abstract class  抽象基类  |
| ConcreteColleague | 具体同事类 | class                 |

### 说明

1. 大家把中介者模式看成一个本地的发布订阅模式就好了，只不过所有的ConcreteColleague同时身为消息的生产者和消费者。
2. 中介者与观察者模式最大的区别在于，观察中中subject对象是唯一的，在逻辑上是被多个观察者观测。
   但是中介者模式的ConcreteColleague既充当subject也充当observer，同时消息的推送是经由mediator。
3. 如果再延伸一点，mediator就是多个对象的共享空间，所有对象都可以对着干共享空间操作，从逻辑上可以抽象为一个堆